"use strict";const i=new Map,f=new Map;document.addEventListener("keydown",n=>p(n,f.values())),document.addEventListener("keyup",n=>p(n,i.values()));function p(n,t){for(const{filter:o,listeners:r}of t)if(o(n))for(const e of r)e(n)}function d(n){const t=e=>r(e,f),o=e=>r(e,i);function r(e,c){return w(n,c).listeners.add(e),{down:t,up:o}}return{down:t,up:o}}function a(n){const t=e=>r(e,f),o=e=>r(e,i);function r(e,c){return w(n,c).listeners.delete(e),{down:t,up:o}}return{down:t,up:o}}function h(n){const t=d(n),o=a(n);function r(u){return t.down(u),c(u,"down")}function e(u){return t.up(u),c(u,"up")}function c(u,l){return{disable:()=>{o[l](u)},enable:()=>{t[l](u)}}}return{down:r,up:e}}function m(n){const t=d(n),o=a(n);function r(c){t.down(c),t.down(u);function u(){o.down(c),o.down(u)}return{down:r,up:e}}function e(c){t.up(c),oHndler.up(u);function u(){o.up(c),o.up(u)}return{down:r,up:e}}return{down:r,up:e}}function g(n){if(typeof n=="function")return n;if(typeof n=="string")return t=>t.key===n;throw new TypeError("The filter must be either a string or a function")}function w(n,t){const o=g(n),r=new Set;return t.has(n)||t.set(n,{filter:o,listeners:r}),t.get(n)}function s(n,t){return o=>o[n]&&filter(t)(o)}function b({key:n}){const t=n.codePointAt();return n.length==1&&(t>=65&&t<=90||t>=97&&t<=122)}function v({key:n}){const t=n.codePointAt();return n.length==1&&t>=48&&t<=57}const H=n=>s("altKey",n),y=n=>s("metaKey",n),K=n=>s("ctrlKey",n),A=n=>s("shiftKey",n),E=({key:n})=>!0,L=({key:n})=>n==" ",M=({key:n})=>n.startsWith("Arrow");export default{on:d,once:m,toggle:h,remove:a,alphabet:b,numbers:v,alt:H,meta:y,ctrl:K,shift:A,any:E,space:L,arrows:M};